# classifier-manager

Мини-проект
Система управления деревом классификатора
=====================

 Ничего особенного, тем не менее перед вами веб-система создания и управления произвольным классификатором. Создано и работает на **Python/Django**. Интерфейс основан на **Twitter Bootstrap**. Создано как побочный продукт большого контентного проекта, наспех и без претензий на серьёзность. Тем не менее работает исправно, имеет удобный интерфейс и, возможно, кому-нибудь пригодится.

# Что умеет система?

* **Добавлять разделы** дерева _(в корень и по одному)_ и подразделы _(в произвольное место и целым списком)_.
* **Переименовывать разделы и подразделы**.
* **Удалять разделы и подразделы**. Удаление раздела-родителя вызывает удаление всех его подразделов.
* **Назначать и удалять Alias-ы**. Система Alias-ов необходима из-за того, что некоторые разделы (с их подразделами) необходимо отображать одновременно в нескольких местах. Например, _«Детские велосипеды»_ хотелось бы отобразить и в разделе _«Товары для детей»_, и в разделе _«Спорт и отдых»_. Чтобы не плодить сущности — и поддерживать только одну ветку дерева подкатегорий для нескольких надкатегорий —  создаются Alias-ы. Alias можно назначать как через выпадающие меню (с autocomplete-подсказками) так и с помощью Drag&Drop перетаскивания.
* **Переносить дерево-категорий** вместе со всеми своими подкатегориями в произвольное место дерева. Перенос осуществляется как с помощью выпадающего меню (с autocomplete-подсказками), так Drag&Drop перетаскиванием.

### Полезно знать
* Интерфейс устроен асинхронным образом. Т.е. он состоит из двух окон. В основном окне отображается дерево категорий и интерфейс управлния им, во вспомогательном worker-окне производятся все вычислительные действия (запись, ударение, перенос и пр.). Окно-worker появляется только на время своей работы и исчезает после того как отработали связанные с ним процедуры. Асинхронный интерфейс позволяет продолжать работу с основным окном в момент пока worker производит работу.
* Для упрощения поиска фрагментов дерева над которыми произведены измения, строки категорий послеотработки worker-а подсвечиваются: зеленым — категории которые были изменены, оранжевым — категории косвенно участвующие в изменениях (например, назначенные как Alias).
* При обновлении дерево позиционируется на место записей для которых совершались последние изменения.
* При работе с большими и ветвистыми классифайд-дереьвями можно «гасить» и обратно «включать» части дерева определенной вложенности. Для этого используйте кнопочки в левом верхнем углу (над схемой дерева).
* При перемещении веток дерева и назначении Alias методом Drag&Drop нужно «хватать» за ID категории (это циферка на розовом фоне в начале каждой строки) и тащить на кнопку целевого действия (подсвечивается).
* В аutocomplete при выборе категорий можно набирать как ID (или его часть) категории, так и название (или его часть) категории.

# Ограничения

* Вложенность дерева категорий зависит от количества этих категорий. Чем больше категорий, тем меньше уровней вложения поддерживает система. Так например, если в дереве-классиификаторе 100 тыс. категорий, то поддерживается вложенность до 32–34 уровней. Если дерево категорий менее тысячи — можно организовать уже до 50 уровней вложенности. Для 100 категорий — вложенность может быть — 65 уровней.
* Перенос поддерева категорий в корень не предусмотрен. Можете сами дописать этот функционал.

------
Данная микросистема управление деревьями работает во внутренних интерфейсах [Торгово-логистического портала CargоToGo] (http://cargotogo.com) и [Маркет-плейс агрегатора окон «Онардия»] (http://oknardia.ru). Надеюсь, что проделанная работа пригодится и вам. Успехов!




